import{u as w,a as N,c as D}from"./element-plus.CKozIfrw.js";import{G as I,u as b}from"./useGoodsProvider.BbDZLQQU.js";import{q as E,o as e,_ as c,Z as r,V as x,a as m,a2 as n,a1 as g,c as C,F as S,ap as T,p as V,x as $,I as B,u as s,a3 as y,aN as j}from"./vendor.NXPq8Yx5.js";import{u as F}from"./goods.DglZLIIm.js";import"./request.CKPoFkx_.js";const O={class:"mt-3"},P={class:"mt-2 space-x-2"},q={__name:"goodsCard",props:{goods:{type:Object,required:!0}},setup(t){const l=t,{updateFilter:a}=E(I),d=()=>{a({type:l.goods.GoodsType.Alias})},i=()=>{a({keyword:l.goods.Name})},u=h=>{a({spec:l.goods.GoodsSpecs[h].Specs})};return(h,p)=>{const f=w,o=N,_=D;return e(),c(_,{shadow:"hover"},{default:r(()=>{var k;return[x(f,{src:(k=t.goods.ImageUrls[0])==null?void 0:k.Url,fit:"cover",class:"w-full h-48 object-cover"},null,8,["src"]),m("div",O,[m("h3",{class:"text-lg font-bold cursor-pointer hover:text-blue-500",onClick:i},n(t.goods.Name),1),x(o,{class:"mt-2 cursor-pointer",onClick:d},{default:r(()=>[g(n(t.goods.GoodsType.Name),1)]),_:1}),m("div",P,[(e(!0),C(S,null,T(t.goods.GoodsSpecs,(v,G)=>(e(),c(o,{key:v.ID,class:"mt-2 cursor-pointer",size:"small",type:"info",onClick:z=>u(G)},{default:r(()=>[g(n(v.Specs),1)]),_:2},1032,["onClick"]))),128))])])]}),_:1})}}},L={class:"p-4"},R={class:"flex items-center gap-2 mb-4"},U={class:"grid grid-cols-4 gap-4"},H={__name:"day-7",setup(t){const l=j(),a=F(),{activeType:d,searchText:i,specText:u}=b();V([d,i,u],([p,f,o])=>{console.log("過濾條件更新：",{type:p,keyword:f,spec:o})});const h=p=>{l.push({name:"goodsDetail",params:{id:p}})};return $(async()=>{await B(),a.getProductList()}),(p,f)=>{const o=N;return e(),C("div",L,[m("div",R,[s(i)?(e(),c(o,{key:0},{default:r(()=>[g("關鍵字: "+n(s(i)),1)]),_:1})):y("",!0),s(d)?(e(),c(o,{key:1},{default:r(()=>[g("類型: "+n(s(d)),1)]),_:1})):y("",!0),s(u)?(e(),c(o,{key:2},{default:r(()=>[g("規格: "+n(s(u)),1)]),_:1})):y("",!0)]),m("div",U,[(e(!0),C(S,null,T(s(a).getProducts,_=>(e(),c(q,{key:_.ID,goods:_,onClick:k=>h(_.ID)},null,8,["goods","onClick"]))),128))])])}}};export{H as default};
